zw.prototype.Zp=ea(44,g("reason"));g2a.prototype.Zp=ea(43,g("C"));OD.prototype.Zp=ea(42,function(){return U(this,2)});function eke(a,b){Mo(a.C,8192)?b():(Mp(a.iO,a.ma,function(){b()}),a.create())}function fke(a){a.O=!0;return a}function r5(a){of(this,a,0,-1,null,null)}w(r5,nf);r5.prototype.Zp=function(){return F(this,1)};function gke(a){of(this,a,0,-1,null,null)}w(gke,nf);function hke(a){of(this,a,0,-1,null,null)}w(hke,nf);hke.prototype.getId=function(){return F(this,1)};
hke.prototype.Ye=function(a){G(this,1,a)};hke.prototype.getType=function(){return F(this,2)};hke.prototype.setType=function(a){G(this,2,a)};function ike(a){of(this,a,0,-1,null,null)}w(ike,nf);function jke(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}function kke(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function lke(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}
function mke(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function nke(a,b){this.m7=a;this.gM=b};function oke(a,b,c,d,e){y.call(this);this.Wa=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new pNa;this.J=c;this.D=null;this.F=new Kp;this.Aa(this.F);this.C=pke(this)}w(oke,y);function pke(a){a.C&&A(a.C);var b=kh(H(),"lssv");return new uNa(a.Wa,a.O,0,a.A1a.bind(a),b,!0,a.J,new nMa)}function qke(a){if(a.D)return a.D;a.D=rke(a);return Ye(a.D,function(b){a.g9();throw b;})}
function ske(a){return qke(a).then(function(a){return(new Re(function(b,d){mIa(a.dP(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==lh(H(),"docs-offline-lsuid")?new nke(a,b[0]):null}.bind(this))}.bind(a))}p=oke.prototype;p.get=function(){return ske(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.m7})};function rke(a){return(new Re(function(a,c){bf(this.C.create(this.g9.bind(this)),a,c)}.bind(a))).then(a.zqb.bind(a))}
p.zqb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new bLa(a,this.H);this.Aa(c)}EFa(a);Lp(this.F,a.C.C.H,function(){b.g9()});Lp(this.F,a.C.ma,function(){b.g9()});return a};p.g9=function(){A(this.C);this.C=pke(this);this.D=null};p.A1a=function(a){return ILa(this.L,a)};p.Ha=function(){A(this.C);oke.oa.Ha.call(this)};function tke(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function uke(a){Tt.call(this);this.O=a;tt(this,"Turn on offline for all files?");a=new Bt;Gt(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Gt(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Et(this,a);Dt(this,!1);this.$h=this.Gr=!0;a=new n_c;ut(this,Ns(o_c(a,tke)));this.C=this.F=null}w(uke,Tt);
uke.prototype.Ia=function(){uke.oa.Ia.call(this);Mt(this,this.D.Fu);this.F=ne(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=ne(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Jc(this.F,"click",this.L)};uke.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};uke.prototype.L=function(){J(this.F,"docs-offline-optindialog-disclaimer-link-disabled");K(this.C,!0);this.C.focus()};function vke(a,b,c,d){E.call(this);this.F=a;this.va=b;this.L=c;this.O=new Sr(this.L,Rr(),this);this.Wa=d;this.H=We();this.D=this.C=null;this.J=!1}w(vke,E);vke.prototype.start=function(){var a=this;wke(this,"Initialization").then(function(){a.J=!0;a.H.resolve(null);a.O.V(WKa,a.ea).V(KKa,a.ma).V(NKa,a.R)},function(b){a.H.resolve(Ae(b))})};function xke(a){return a.H.C.then(function(a){if(null!=a)throw a;})}
vke.prototype.ea=function(a){a=xf(a,UKa,1);for(var b=0;b<a.length;b++){var c=a[b].iz($Ka);if(c&&F(c,1)==this.F&&qf(c,3).includes(1)){yke(this,"Document data changed");break}}};vke.prototype.ma=function(a){F(a,1)==this.F&&yke(this,"Document available")};vke.prototype.R=function(){yke(this,"Offline disabled")};function yke(a,b){Ye(wke(a,b),function(b){kp(a.Wa,Ae(b))})}
function wke(a,b){return Ye(zke(a.va,[a.F]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.D!=e);a.C=c;a.D=e;b&&a.dispatchEvent("wg");f&&a.dispatchEvent("xg")}),function(a){throw Be(a,{pinStatusUpdateReason:b});})};function Ake(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=We()}w(Ake,E);function Bke(a){return a.F.C.then(function(a){if(null!=a)throw a;})}Ake.prototype.JA=g("D");function Cke(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("yg")}function Dke(a){if(!a.D)return!1;a=a.D.Zp();return 1==a||6==a};function Eke(a,b,c,d,e,f,h,k,l,m){y.call(this);this.Ka=a;this.Ma=b;this.Ta=c;this.F=d;this.D=e;this.Wa=k;this.Ca=new xr;this.La=new Zk(this);this.Aa(this.La);this.Qa=a.C;this.ea=f;this.Xa=h;this.H=this.C=null;this.L=l;this.Na=m;this.O=Fke(this,"Document now available offline");this.ma=Fke(this,"Document no longer available offline");this.R=Fke(this,"Could not make the document available offline.");this.J=Fke(this,"Could not enable offline access.");this.Fa=Fke(this,"Making document available offline...");
this.va=Fke(this,"Document will sync when you reconnect");this.Sa=Fke(this,"Could not sync document.")}w(Eke,y);function Fke(a,b){return qu(a.L,b,void 0,!1,3E3,!1,void 0,!0)}p=Eke.prototype;p.init=function(){var a=this;Ve([Bke(this.D),xke(this.F)]).then(function(){(ck(),Sh).subscribe("action",a.UEa,a);a.La.V(a.F,"wg",a.pub).V(a.F,"xg",a.Msb).V(a.D,"yg",a.Osb);Gke(a);Sh.setVisible(C.product.Ve)},function(b){a.Wa.Mc(Ae(b))})};p.UEa=function(){Hke(this)};
function Hke(a){QJa(a.Ca).then(function(){if(rr()){if(1==a.D.C)return Ike(a);Dke(a.D)?Jke(a):Kke(a,a.J)}else{a.H&&a.H.setVisible(!1);var b=Gt(Gt(new Bt,{key:"ok",caption:"Install"},!0),Kt,!1,!0),c=a.ea,d=nZc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.q4a,null,a,void 0,b,void 0);c.Ah(d);d.focus();a.H=d;Mt(a.H,b.Fu)}})}
p.q4a=function(){var a=this;this.Ca.install().then(function(b){b&&Hke(a)},function(b){b=Ae(b);a.Wa.Mc(b);oJa(b)})};function Ike(a){a.F.D||Kke(a,a.Na.kh()?a.Fa:a.va);var b=!(ck(),Sh).Gd();return Ye((new Re(function(b){eke(a.Qa,b)})).then(function(){return Lke(a,b)}).then(function(b){b||Kke(a,a.Sa)}),function(b){Kke(a,a.R);a.Wa.log(Ae(b))})}function Mke(a){Ye(Nke(a.Xa),function(b){a.Wa.log(Ae(b))}).then(function(){if(1==a.D.C)return Ike(a);Kke(a,a.J)})}
function Jke(a){a.C||(a.C=new uke(function(){return Mke(a)}),a.ea.Ah(a.C),a.La.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}function Lke(a,b){var c=new hke;c.Ye(a.Ka.F);c.setType(a.Ma);return Oke(a.Ta,[c],b).then(function(a){return a?F(a,1):!0})}p.pub=function(){Gke(this);Pke(this);this.F.C||Kke(this,this.ma)};p.Msb=function(){Pke(this)};p.Osb=function(){Gke(this)};function Pke(a){1==a.D.C&&a.F.D&&a.F.C&&Kke(a,a.O)}
function Kke(a,b){a.O.setVisible(!1);a.ma.setVisible(!1);a.R.setVisible(!1);a.J.setVisible(!1);a.Fa.setVisible(!1);a.va.setVisible(!1);b.sb()||b.render();b.setVisible(!0)}function Gke(a){(ck(),Sh).Pa(1==a.D.C||Dke(a.D));Sh.Yb(a.F.C)}p.Ha=function(){(ck(),Sh).unsubscribe("action",this.UEa,this);this.C&&(sv(this.ea,this.C),A(this.C));this.H&&(sv(this.ea,this.H),A(this.H));Eke.oa.Ha.call(this);su(this.L,this.O);su(this.L,this.ma);su(this.L,this.R);su(this.L,this.J);xb(this.O,this.ma,this.R,this.J)};function Qke(a){this.D=a}Qke.prototype.C=function(a){var b=new L0c;M0c(b,a.serialize());this.D.log(b);this.D.H()};function Rke(a){this.D=a}Rke.prototype.C=function(a){var b=new L0c;M0c(b,a.serialize());this.D.log(b);return new Re(function(a,b){this.D.flush(a,b)}.bind(this))};function Ske(a){this.D=a}Ske.prototype.C=function(a,b,c){ske(this.D).then(u(function(d){d?(new yAc(d.m7,"offline",null)).C(a,b,c):b()},this))};function Tke(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(Ot({id:"docs-offline-optinpromo-confirm-close",content:$s("Close")},c||b));return P(a+"</div></div>")};function Uke(a){E.call(this);this.bb=a||Dd();this.La=new Zk(this);this.Aa(this.La);this.C=new it(a);this.C.Jz(!1);Zn(this.C.D,!1);this.C.Ad("docs-offline-optinpromo");this.C.render();a=this.C.Oa();ie(a,!0);Ik(a,"dialog");Jk(a,"labelledby","docs-offline-optinpromo-title");Jk(a,"describedby","docs-offline-optinpromo-description");this.Aa(this.C);this.L=new Pt(null);this.Aa(this.L);this.J=new Pt(null);this.Aa(this.J);this.H=new Pt(null);this.Aa(this.H);this.O=this.F=this.D=null;Vke(this,Wke)}w(Uke,E);
function Wke(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(Ot({id:"docs-offline-optinpromo-optin",content:$s("Turn on offline access"),style:2},b));a+=O(Ot({id:"docs-offline-optinpromo-decline",content:$s("No thanks"),style:0},b));return P(a+"</div>")}
function Vke(a,b){var c=N(b);a.C.setContent(c);switch(b){case Wke:a.La.V(a.C,"show",a.Eub);b=a.bb.getElement("docs-offline-optinpromo-optin");a.L.Va(b);a.La.Jc(a.L,"action",u(a.mtb,a));b=a.bb.getElement("docs-offline-optinpromo-decline");a.J.Va(b);a.La.Jc(a.J,"action",u(a.rkb,a));a.D=a.bb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.bb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.bb.getElement("docs-offline-optinpromo-learn-more-container");a.La.V(a.D,"click",u(a.TNa,
a,!0)).V(a.F,"click",u(a.TNa,a,!1));break;case Tke:b=a.bb.getElement("docs-offline-optinpromo-confirm-close");a.H.Va(b);a.La.Jc(a.H,"action",u(a.show,a,!1));a.C.Oa().focus();break;default:throw Error("Cannot handle state "+b);}a.bb.getElement("docs-offline-optinpromo-title");a.bb.getElement("docs-offline-optinpromo-description")}p=Uke.prototype;p.TNa=function(a){K(this.D,!a);K(this.F,a);K(this.O,a);(a?this.F:this.D).focus();return!1};p.mtb=function(){this.dispatchEvent(new D("Ag"))};p.rkb=function(){this.dispatchEvent(new D("Bg"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("Cg"))};p.Eub=function(){this.C.Oa().focus();this.dispatchEvent(new D("zg"))};function Xke(a,b){this.L=a;this.H=b}function Yke(a){return Zke(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new r5;G(a,1,1);return a},a.J.bind(a))}Xke.prototype.J=function(a){if(a instanceof r5)return a;if(a instanceof Error)throw a;throw Error(a);};
function Zke(a){var b=new r5;return a.L.get().then(function(a){var c=a.C;switch(c){case 3:case 2:return Te();case 4:return G(b,1,3),G(b,2,a.D),Ue(b);case 1:return G(b,1,2),Ue(b);case 5:return G(b,1,4),Ue(b);default:throw Error("Unexpected enabled state: "+c);}})}Xke.prototype.D=function(){return(new Re(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return Te();a=new r5;G(a,1,5);return Ue(a)})};Xke.prototype.C=function(){if(rr())return Te();var a=new r5;G(a,1,6);return Ue(a)};
Xke.prototype.F=function(){var a=kh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Re(function(b,c){qbb(function(d,e){e>a?b():(d=new r5,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function $ke(a,b,c){this.C=a;this.D=c||null};function ale(a,b){this.C=a;this.Wa=b}ale.prototype.get=function(){return ske(this.C).then(function(a){return a?new $ke(1,a.gM.getId(),a.gM.OE(),ble(this)):qke(this.C).then(function(a){return(new Re(function(b,d){mIa(a.dP(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new $ke(4,a.getId(),a.OE());else throw Error("More than one user in store: "+a.length);else a=jke()?new $ke(2):pLa()?new $ke(5):new $ke(3);return a}.bind(this))}.bind(this))}.bind(this))};
function ble(a){a=new Zbb(a.Wa);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new Dx("metadata-sync",0,!0,new Cx(1,Ro(),Fx("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new Dx("service-worker-update",0,!0,new Cx(2,Rya(),Fx("service_worker_update"),3E5,!0,!1)),w9a());I(b,"docs-offline-edswut")&&d.push(new Dx("drive-service-worker",0,!0,new Cx(2,Sya(lh(H(),"drdn"),"/drive/serviceworker/update",!0),Fx("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new Dx("homescreen-cello-sync",kh(H(),"docs-offline-scstpim"),!0,new Cx(2,Sya(ko(la.location.href),"/document/backgroundsync"),new Ex,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new Dx("drive-cello-sync",kh(H(),"docs-offline-scstpim"),!0,new Cx(2,Sya(lh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Ex,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new Dx("local-changes-sync",0,!1,new Cx(1,Ro(),Fx("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new Dx("auto-sync",kh(H(),"docs-offline-sastpim"),!1,new Cx(1,Ro(),Fx("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new Dx("webfonts-sync",0,!0,new Cx(1,Ro(),Fx("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new Dx("impression-sync",0,!1,new Cx(1,Ro(),Fx("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new Dx("document-deletion",0,!1,new Cx(1,Ro(),Fx("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new Dx("update-unsaved-changes",
0,!1,new Cx(2,Rya(),Fx("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new Dx("cleanup-task",0,!1,new Cx(2,Rya(),Fx("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new Dx("report-task",0,!1,new Cx(2,Rya(),Fx("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new Dx("kix-snapshot",0,!1,new Cx(1,Sya(ko(la.location.href),"/document/snapshot.js"),new Ex,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new Dx("sync-objects-sync",0,!0,new Cx(1,Ro(),Fx("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=Gbb(a,b[d].getId()),!c||!rf(c,5,!1))return!1;return!0};function cle(a){this.C=a}function dle(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Ea()});a.C.setItem("optInLog",Po(c))}function ele(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new cle(a)};function fle(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function gle(a){return qke(a.H).then(function(a){return hle(this,a).then(function(){var b=GNa();if(!b)throw Error("Missing user info for enabling offline in flags.");return ile(this,a,b)}.bind(this))}.bind(a)).then(function(a){return jle(this,a)}.bind(a))}function hle(a,b){return(new Re(function(a,d){mIa(b.dP(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function ile(a,b,c){var d=new nFa(F(c,1),!0);oFa(d,c.OE());pFa(d,F(c,3));qFa(d,!!F(c,4));rFa(d,!!F(c,6));iq(d,"optInReasons",a.C);return(new Re(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function jle(a,b){dle(ele(),b.OE()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new Dr;var c=new LKa;lga(b,Fr,c);aLa(a.F,b);b=new xr;var d=new HNa(b);return MJa(b).then(function(){return new Re(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=INa(),c=new xwa;this.C[0]&&G(c,1,hIa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.nz(81E3,0);b=LU(a);yf(b,34,c);this.D.oz(a)}.bind(a))};function kle(a,b,c,d,e,f,h){y.call(this);this.bb=h||Dd();this.D=a;this.Wa=b;this.H=c;this.eb=d;a=new ONa;this.Aa(a);this.F=new Gr(a,Rr());this.Aa(this.F);this.Ka=new Sr(this.F,Rr(),this);this.Aa(this.Ka);this.Ca=new Sr(this.F,null,this);this.Aa(this.Ca);this.L=new oke(this.Wa,this.F,e,"OfflinePromoControllerLockSessionId");this.Aa(this.L);e=new ale(this.L,this.Wa);a=new xr;this.Za=new Xke(e,new HNa(a));e=this.L;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=lh(b,"gaia_session_id");
a=new E$c(306,b||null,a,!(Aa(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new Rke(a);e=C.product.Ve&&oMa&&(MNa()||NNa())?new Ske(e):new xAc;e=new vAc(b,null,e);a=new Qke(a);b=NMa();e=oAc(nAc(fke(lAc(kAc(new jAc,e),a)),b),84).build();a=hAc(e.TB());b=(new uAc(!1)).get();a.H=b;this.Na=e;this.Na.fG();this.Qa=Wr(this.bb);this.C=null;this.La=new Zk(this);this.Aa(this.La);this.R=new Kp;this.Aa(this.R);this.ea=new mm(this.Vnb,6E4,this);this.Aa(this.ea);this.Sa=!1;this.ma=this.J=null;
this.Fa=lr.getInstance();this.O=this.Ta=!1;this.va=C.product.Ve&&C.product.qg("56.0.2924.87");this.Ma=!1;this.Xa=f}w(kle,y);p=kle.prototype;p.init=function(){var a=this;rr()&&(lle(this),mle(this),s5(this).then(function(){nle(a)},function(b){a.Wa.Mc(Ae(b))}))};function nle(a){a.F.connect();Lp(a.R,a.D.vJ(),function(){a.ea.start();s5(a)});Lp(a.R,a.D.wJ(),function(){a.ea.stop();lle(a);mle(a);s5(a)});a.La.V(a.Qa,"change",a.t4a);a.Ka.V(Fr,a.s4a);a.Ca.V(Fr,a.r4a).V(PKa,a.pgb)}
function s5(a){return Yke(a.Za).then(function(b){var c=1==b.Zp(),d=a.D.kh(),e;if(!(e=a.O)&&(e=!jke())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.va&&e)&&!(c=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Ta||(h?a.C||(a.C=new Uke(a.bb),a.Aa(a.C),a.La.V(a.C,"Ag",a.ntb).V(a.C,"Bg",a.jtb).V(a.C,"Cg",a.x2a),a.C.show(!0),ole(a)):a.C&&a.C.show(!1));if(a.eb)if(2==b.Zp()||d||h)ple(a);else if(a.ma&&!Cf(b,
a.ma)&&ple(a),null==a.J){d=qle(b);if(!a.Ma)switch(b.Zp()){case 1:break;case 3:rle(a,"Offline ineligible, other user enabled");break;case 7:rle(a,"Offline ineligible, insufficient disk space");break;case 5:rle(a,"Offline ineligible, policy disallows");break;case 6:rle(a,"Offline ineligible, no extension");break;case 4:rle(a,"Offline ineligible, invalid db state");break;default:rle(a,"Offline ineligible, unknown reason")}b=1==b.Zp()&&a.va?or(d,"Turn on...",a.bvb.bind(a),"info",!1):nr(d,"info",!1);a.J=
a.Fa.postMessage(b)}})}p.Vnb=function(){oLa()||kke(!0)};
p.otb=function(){if(this.D.kh()){var a=lh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(ft("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=ZRa("Your documents are syncing",Ns(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.bb);J(b.Kq(),"docs-offline-welcomepromo-bg");this.Aa(b);this.C&&this.C.show(!1)}else this.Ta=!0,Vke(this.C,Tke);s5(this)};p.s4a=function(){s5(this)};p.r4a=function(){s5(this)};p.pgb=function(){this.O=!1;s5(this)};p.ltb=function(a){this.Wa.Mc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=qu(this.Xa,"Turning on offline access failed. Please try again later.",this.bb);a.D=!0;a.render();a.setVisible(!0);this.Aa(a)};
p.ntb=function(){this.H.C(2054);kke(!1);gle(new fle(this.L,this.F,this.Na)).then(u(this.otb,this),u(this.ltb,this))};p.jtb=function(){this.D.kh()?this.H.C(2055):mke(!0);kke(!1);la.localStorage.setItem("docs-urop","true");this.O=!1;s5(this);var a=new Dr,b=new OKa;lga(a,PKa,b);aLa(this.F,a)};
function qle(a){switch(a.Zp()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(F(a,2)+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function rle(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";kp(a.Wa,Error("Offline editing disabled: "+b),c);a.Ma=!0}function ple(a){null!=a.J&&(mr(a.Fa,a.J),a.J=null,a.ma=null)}p.bvb=function(){this.O=!0;s5(this)};p.t4a=function(){ole(this)};p.x2a=function(){A(this.C);this.C=null};function ole(a){!a.Sa&&a.C&&"hidden"!=a.Qa.getState()&&(a.D.kh()?a.H.C(2847):lke(!0),a.Sa=!0)}
function lle(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.kh()&&(lke(!1),a.H.C(2847))}function mle(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.kh()&&(mke(!1),a.H.C(2055))};function sle(a,b,c){y.call(this);this.C=a;this.Ta=c;this.J=new Kp;this.Aa(this.J);this.Fa=new Sr(b,Rr(),this);this.Aa(this.Fa);this.La=new Zk(this);this.Aa(this.La);this.D=Wr();this.Aa(this.D);this.L=!1;this.Ca=I(H(),"docs-offline-eraoi");this.Na=I(H(),"docs-offline-eeooip");this.va=I(H(),"docs-offline-eiid");this.Qa=new xr;this.ea=null;this.ma=this.O=this.R=!1;this.H=new mm(this.Ma,Math.floor(27E4*Math.random())+3E4,this);this.Aa(this.H);this.F=[]}r(sle,y);
sle.prototype.init=function(){var a=this;(this.Ca||this.Na)&&this.Fa.V(Fr,this.Sa);this.va&&(tle(this).then(function(b){a.ea=b}),this.La.V(this.D,"change",this.Ka));this.F.push(new ule("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss"));this.F.push(new ule("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss"))};
function vle(a){a.ma||(Lp(a.J,a.C.vJ(),function(){return wle(a)}),Lp(a.J,a.C.wJ(),function(){return wle(a)}),a.va||a.La.V(a.D,"change",a.Ka),a.ma=!0)}sle.prototype.Sa=function(){this.L||(this.L=!0,vle(this),this.Ca&&("visible"==this.D.getState()||this.H.xb()||this.H.start()),wle(this))};
function wle(a){var b=!1;a.F.forEach(function(c){var d;if(d=!b){d=!1;switch(c.L){case "reload-after-opt-in":d=a.L&&a.C.kh();break;case "reload-after-extension-installation":d=a.R&&a.C.kh()}d=d&&!c.F}d?(xle(c),b=!0):null!=c.C&&(mr(c.H,c.C),c.C=null)})}sle.prototype.Ma=function(){this.O||!this.C.kh()||Mo(this.Ta.XO(),256)||la.location.reload()};
sle.prototype.Ka=function(){var a=this,b="visible"==this.D.getState();this.O||(this.O=b&&this.F.some(function(a){return null!=a.C}));b&&0==this.ea&&!this.R&&tle(this).then(function(b){b&&(a.R=!0,vle(a),wle(a))})};function tle(a){return QJa(a.Qa).then(function(){return rr()})}
function ule(a,b,c){y.call(this);var d=this;this.L=a;this.J=b;this.F=!1;this.C=null;this.H=lr.getInstance();this.D=new xe(c);this.Aa(this.D);this.D.setProperty("label","Dismiss");this.D.Pa(!0);this.D.wb(Oa,function(){d.F=!0})}r(ule,y);function xle(a){null==a.C&&(a.C=a.H.postMessage(or(a.J,"Reload",function(){la.location.reload()},"info",!0,void 0,a.D)))};function yle(a,b,c,d,e,f,h){y.call(this);this.D=b;this.J=We();zle(this);this.F=this.H=null;this.O=a;this.C=c;this.La=new Zk(this);this.Aa(this.La);this.L=new Kp;this.Aa(this.L);this.R=d;this.ea=e;this.va=f;this.ma=h}w(yle,y);p=yle.prototype;p.start=function(){var a=this;Ale(this.D).then(function(b){b.connect();a.J.resolve(b);return Ble(a)}).then(function(){Lp(a.L,a.O.wJ(),function(){Cle(a)})},function(b){b=Ae(b);a.C.F.resolve(b)})};
function Nke(a){if(2!=a.C.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.C);Cke(a.C,4);return Dle(a.D,10).then(function(a){var b=a.Zp();return Te().then(function(){return 1==b||2==b?t5(this,1):t5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.JA=function(){return this.D.JA()};
function Ble(a){return a.D.H().then(function(b){switch(F(b,1)){case 1:return Ele(a.D).then(function(){return t5(this,1)}.bind(a)).then(function(){Cle(this)}.bind(a));case 2:return t5(a,2);case 4:return Fle(a,F(b,2));case 3:return b=F(b,3),null!=b?Gle(a,b):t5(a,2);case 5:return Hle(a)}})}p.aAb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Ye(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("yg")}.bind(this)),ba().bind(this))};function Fle(a){return t5(a,2)}
function Gle(a,b){return a.ea?Dle(a.D,b).then(function(a){switch(a.Zp()){case 1:return t5(this,1);case 2:return t5(this,1);default:return t5(this,2)}}.bind(a)):Te()}function Hle(a){return a.va?Dle(a.D,2).then(function(a){switch(a.Zp()){case 1:case 2:return t5(this,1);default:return t5(this,2)}}.bind(a)):Te()}
function zle(a){a.J.C.then(function(a){this.H=new Sr(a,"user_"+this.R,this);this.Aa(this.H);this.F=new Sr(a,null,this);this.Aa(this.F);this.H.V(Fr,this.v4a).V(NKa,this.Dsb).V(RKa,this.aAb);this.F.V(Fr,this.u4a).V(NKa,this.ogb)}.bind(a))}p.v4a=function(){Ye(t5(this,1),ba().bind(this))};p.Dsb=function(){Ye(t5(this,2),ba().bind(this))};p.u4a=function(){Ile(this)};p.ogb=function(){Ile(this)};
function t5(a,b){return a.JA().then(function(a){Cke(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("yg")}.bind(this))}.bind(a)).then(ba().bind(a))}function Ile(a){a.JA().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("yg")}.bind(a))}function Cle(a){a.ma&&1==a.C.C&&Ye(Jle(a.D),ba().bind(a))};function Kle(a){this.D=a}Kle.prototype.C=g("D");function u5(a){of(this,a,0,-1,null,null)}w(u5,nf);u5.prototype.getType=function(){return F(this,1)};u5.prototype.setType=function(a){G(this,1,a)};function Lle(a){of(this,a,0,-1,null,null)}w(Lle,nf);Lle.prototype.getType=function(){return F(this,1)};Lle.prototype.setType=function(a){G(this,1,a)};Lle.prototype.pJ=function(){return wf(this,Mle,2)};function Mle(a){of(this,a,0,-1,null,null)}w(Mle,nf);Mle.prototype.getType=function(){return F(this,1)};Mle.prototype.setType=function(a){G(this,1,a)};
Mle.prototype.getErrorMessage=function(){return F(this,2)};function Nle(a){of(this,a,0,-1,Ole,null)}w(Nle,nf);var Ole=[1];function Ple(a){of(this,a,0,-1,Qle,null)}w(Ple,nf);var Qle=[1];function Rle(a){of(this,a,0,-1,null,null)}w(Rle,nf);Rle.prototype.H=function(){return wf(this,gke,1)};function Sle(a){of(this,a,0,-1,null,null)}w(Sle,nf);Sle.prototype.JA=function(){return wf(this,r5,1)};function Tle(a){of(this,a,0,-1,null,null)}w(Tle,nf);function Ule(a){of(this,a,0,-1,null,null)}w(Ule,nf);
Ule.prototype.JA=function(){return wf(this,r5,1)};function Vle(a){of(this,a,0,-1,null,null)}w(Vle,nf);Vle.prototype.getId=function(){return F(this,1)};Vle.prototype.Ye=function(a){G(this,1,a)};Vle.prototype.getTitle=function(){return F(this,2)};Vle.prototype.Wp=function(){return F(this,3)};function Wle(a){of(this,a,0,-1,Xle,null)}w(Wle,nf);var Xle=[1];function Yle(a){of(this,a,0,-1,null,null)}w(Yle,nf);function Zle(a,b,c,d){y.call(this);this.F=We();this.bb=d||Dd();this.La=new Zk(this);this.Aa(this.La);this.J=a;a=new wo(b);a.hc("ouid",this.J);Tya()&&a.hc("Debug","true");Co(a,"cd="+c);if(Hb(a.C))throw Error("Url contains invalid domain: "+b);this.L=zo(yo(xo(new wo,a.H),a.C),a.J).toString();this.C=this.bb.Da("IFRAME",{style:"display:none"});Zca(this.C,vr(a.toString()));this.La.V(qe(this.bb),"message",this.O);this.bb.ub().body.appendChild(this.C);this.D=!1}w(Zle,y);
function Ale(a){var b=new u5;b.setType(1);return v5(a,b).then(function(a){a=new Gr(new Kle(a.port),"user_"+this.J);this.Aa(a);return a}.bind(a))}function zke(a,b){var c=new u5;c.setType(2);var d=new Nle;G(d,1,b||[]);yf(c,2,d);return v5(a,c).then(function(a){return xf(wf(a.response,Ple,3),Vle,1)}.bind(a))}Zle.prototype.H=function(){var a=new u5;a.setType(4);return v5(this,a).then(function(a){return wf(a.response,Rle,4).H()}.bind(this))};
Zle.prototype.JA=function(){var a=new u5;a.setType(10);return v5(this,a).then(function(a){return wf(a.response,Sle,7).JA()}.bind(this))};function Oke(a,b,c){var d=!0;d=void 0===d?!1:d;var e=new u5;e.setType(5);var f=new Wle;zf(f,1,b);G(f,2,c);G(f,3,d);yf(e,3,f);return v5(a,e).then(function(a){return(a=wf(a.response,Yle,8))&&wf(a,ike,1)||null})}function Dle(a,b){var c=new u5;c.setType(6);var d=new Tle;G(d,1,b);yf(c,4,d);return v5(a,c).then(function(a){return wf(a.response,Ule,5).JA()})}
function Ele(a){var b=new u5;b.setType(9);return v5(a,b).then(ba())}function Jle(a){var b=new u5;b.setType(11);return v5(a,b).then(ba())}
function v5(a,b){return a.F.C.then(function(a){var c=Ea(),e=new MessageChannel;a.postMessage(b.Lf(),[e.port2]);var f=We();e.port1.onmessage=u(function(a){a=new $le(a);a.response&&a.response.pJ()?(a=a.response.pJ(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=jm(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Ea()-c)+"ms."))},ma(void 0)?void 0:3E4);Xe(f.C,function(){e.port1.close();
km(h)});return f.C}.bind(a))}Zle.prototype.O=function(a){(a=a.le())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],wb(this,a.close,a),this.F.resolve(a),this.D=!0),A(this.La))};Zle.prototype.Ha=function(){this.bb.sf(this.C);Zle.oa.Ha.call(this)};function $le(a){this.response=a.data?new Lle(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function ame(a,b,c,d,e,f,h,k,l,m){var q=this;y.call(this);var t=H();this.F=lh(t,"docs-offline-lsuid");this.J=new ONa;this.C=new Gr(this.J,Rr());this.Aa(this.C);this.C.connect();this.H=h;this.Wa=b;var v=I(t,"docs-offline-eeooip");if(v||I(t,"docs-offline-eraoi")||I(t,"docs-offline-eiid")){var z=new sle(a,this.C,e.C);this.Aa(z);z.init()}v&&(b=new kle(a,b,c,d,h,l,m),this.Aa(b),b.init());this.D=new Ake;this.Aa(this.D);var B=I(t,"docs-offline-eiedp")&&(!I(t,"docs-isd")||I(t,"docs-offline-esdp")),L=I(t,
"docs-offline-eiecr");bme(this,B,L).then(function(b){if(b){b=Qya("/iframeapi",void 0);b=new Zle(q.F,b,1);q.Aa(b);var c=new yle(a,b,q.D,q.F,!1,L,!1);q.Aa(c);c.start();if(B){var d=new vke(e.F,b,q.C,q.Wa);q.Aa(d);d.start();b=new Eke(e,f,b,d,q.D,k,c,q.Wa,l,a);q.Aa(b);b.init()}}})}w(ame,y);function bme(a,b,c){return b?Te(!0):c?(b=new oke(a.Wa,a.C,a.H,"EditorOfflineControllerLockSessionId"),a.Aa(b),(new ale(b,a.Wa)).get().then(function(a){return 5==a.C})):Te(!1)};function cme(){y.call(this)}w(cme,rE);cme.prototype.C=function(a,b,c,d,e,f,h,k,l){return new ame(a,b,c,!0,d,e,f,h,k,l)};xE("offline",cme);
