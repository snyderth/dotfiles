rw.prototype.nq=ea(43,g("reason"));K2a.prototype.nq=ea(42,g("C"));CD.prototype.nq=ea(41,function(){return T(this,2)});function lle(a,b){so(a.C,8192)?b():(vp(a.EO,a.ma,function(){b()}),a.create())}function mle(a){a.O=!0;return a}function p5(a){lf(this,a,0,-1,null,null)}w(p5,kf);p5.prototype.nq=function(){return F(this,1)};function nle(a){lf(this,a,0,-1,null,null)}w(nle,kf);function ole(a){lf(this,a,0,-1,null,null)}w(ole,kf);ole.prototype.getId=function(){return F(this,1)};
ole.prototype.cf=function(a){G(this,1,a)};ole.prototype.getType=function(){return F(this,2)};ole.prototype.setType=function(a){G(this,2,a)};function ple(a){lf(this,a,0,-1,null,null)}w(ple,kf);function qle(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}function rle(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function sle(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}
function tle(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function ule(a,b){this.z7=a;this.vM=b};function vle(a,b,c,d,e){y.call(this);this.Wa=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new ANa;this.J=c;this.D=null;this.F=new tp;this.xa(this.F);this.C=wle(this)}w(vle,y);function wle(a){a.C&&A(a.C);var b=ch(H(),"lssv");return new FNa(a.Wa,a.O,0,a.O1a.bind(a),b,!0,a.J,new yMa)}function xle(a){if(a.D)return a.D;a.D=yle(a);return Ve(a.D,function(b){a.r9();throw b;})}
function zle(a){return xle(a).then(function(a){return(new Oe(function(b,d){wIa(a.wP(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==dh(H(),"docs-offline-lsuid")?new ule(a,b[0]):null}.bind(this))}.bind(a))}p=vle.prototype;p.get=function(){return zle(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.z7})};function yle(a){return(new Oe(function(a,c){Ze(this.C.create(this.r9.bind(this)),a,c)}.bind(a))).then(a.Jqb.bind(a))}
p.Jqb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new mLa(a,this.H);this.xa(c)}OFa(a);up(this.F,a.C.C.H,function(){b.r9()});up(this.F,a.C.ma,function(){b.r9()});return a};p.r9=function(){A(this.C);this.C=wle(this);this.D=null};p.O1a=function(a){return TLa(this.L,a)};p.Ha=function(){A(this.C);vle.oa.Ha.call(this)};function Ale(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function Ble(a){Et.call(this);this.O=a;ft(this,"Turn on offline for all files?");a=new nt;st(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);st(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);qt(this,a);pt(this,!1);this.Ai=this.Zr=!0;a=new lX;gt(this,zs(h0c(a,Ale)));this.C=this.F=null}w(Ble,Et);
Ble.prototype.Ia=function(){Ble.oa.Ia.call(this);xt(this,this.D.Wu);this.F=ke(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=ke(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().R(this,"dialogselect",this.J).Kc(this.F,"click",this.L)};Ble.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};Ble.prototype.L=function(){J(this.F,"docs-offline-optindialog-disclaimer-link-disabled");K(this.C,!0);this.C.focus()};function Cle(a,b,c,d){E.call(this);this.F=a;this.va=b;this.L=c;this.O=new Fr(this.L,Er(),this);this.Wa=d;this.H=Te();this.D=this.C=null;this.J=!1}w(Cle,E);Cle.prototype.start=function(){var a=this;Dle(this,"Initialization").then(function(){a.J=!0;a.H.resolve(null);a.O.R(gLa,a.ea).R(VKa,a.ma).R(YKa,a.V)},function(b){a.H.resolve(ye(b))})};function Ele(a){return a.H.C.then(function(a){if(null!=a)throw a;})}
Cle.prototype.ea=function(a){a=wf(a,eLa,1);for(var b=0;b<a.length;b++){var c=a[b].Cz(kLa);if(c&&F(c,1)==this.F&&nf(c,3).includes(1)){Fle(this,"Document data changed");break}}};Cle.prototype.ma=function(a){F(a,1)==this.F&&Fle(this,"Document available")};Cle.prototype.V=function(){Fle(this,"Offline disabled")};function Fle(a,b){Ve(Dle(a,b),function(b){Vo(a.Wa,ye(b))})}
function Dle(a,b){return Ve(Gle(a.va,[a.F]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.D!=e);a.C=c;a.D=e;b&&a.dispatchEvent("xg");f&&a.dispatchEvent("yg")}),function(a){throw ze(a,{pinStatusUpdateReason:b});})};function Hle(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=Te()}w(Hle,E);function Ile(a){return a.F.C.then(function(a){if(null!=a)throw a;})}Hle.prototype.oB=g("D");function Jle(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("zg")}function Kle(a){if(!a.D)return!1;a=a.D.nq();return 1==a||6==a};function Lle(a,b,c,d,e,f,h,k,l,m){y.call(this);this.Ka=a;this.Ma=b;this.Ta=c;this.F=d;this.D=e;this.Wa=k;this.Da=new kr;this.La=new Jk(this);this.xa(this.La);this.Qa=a.C;this.ea=f;this.Xa=h;this.H=this.C=null;this.L=l;this.Pa=m;this.O=Mle(this,"Document now available offline");this.ma=Mle(this,"Document no longer available offline");this.V=Mle(this,"Could not change offline availability.");this.J=Mle(this,"Could not enable offline access.");this.Fa=Mle(this,"Making document available offline...");
this.va=Mle(this,"Document will sync when you reconnect");this.Sa=Mle(this,"Could not sync document.")}w(Lle,y);function Mle(a,b){return $t(a.L,b,void 0,!1,3E3,!1,void 0,!0)}p=Lle.prototype;p.init=function(){var a=this;Se([Ile(this.D),Ele(this.F)]).then(function(){(Kj(),Jh).subscribe("action",a.bFa,a);a.La.R(a.F,"xg",a.yub).R(a.F,"yg",a.Vsb).R(a.D,"zg",a.Xsb);Nle(a);Jh.setVisible(B.product.Ue)},function(b){a.Wa.Oc(ye(b))})};p.bFa=function(){Ole(this)};
function Ole(a){aKa(a.Da).then(function(){if($q()){if(1==a.D.C)return Ple(a);Kle(a.D)?Qle(a):Rle(a,a.J)}else{a.H&&a.H.setVisible(!1);var b=st(st(new nt,{key:"ok",caption:"Install"},!0),vt,!1,!0),c=a.ea,d=i_c("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.F4a,null,a,void 0,b,void 0);c.Jh(d);d.focus();a.H=d;xt(a.H,b.Wu)}})}
p.F4a=function(){var a=this;this.Da.install().then(function(b){b&&Ole(a)},function(b){b=ye(b);a.Wa.Oc(b);zJa(b)})};function Ple(a){var b=!(Kj(),Jh).Id(),c=a.Pa.Eh();b&&!a.F.D&&Rle(a,c?a.Fa:a.va);return Ve((new Oe(function(b){lle(a.Qa,b)})).then(function(){return Sle(a,b,c)}),function(b){Rle(a,a.V);a.Wa.log(ye(b))})}function Tle(a){Ve(Ule(a.Xa),function(b){a.Wa.log(ye(b))}).then(function(){if(1==a.D.C)return Ple(a);Rle(a,a.J)})}
function Qle(a){a.C||(a.C=new Ble(function(){return Tle(a)}),a.ea.Jh(a.C),a.La.R(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}function Sle(a,b,c){var d=new ole;d.cf(a.Ka.F);d.setType(a.Ma);return Vle(a.Ta,[d],b,c).then(function(b){b&&(F(b,1)||Rle(a,a.Sa))})}p.yub=function(){Nle(this);Wle(this);this.F.C||Rle(this,this.ma)};p.Vsb=function(){Wle(this)};p.Xsb=function(){Nle(this)};function Wle(a){1==a.D.C&&a.F.D&&a.F.C&&Rle(a,a.O)}
function Rle(a,b){a.O.setVisible(!1);a.ma.setVisible(!1);a.V.setVisible(!1);a.J.setVisible(!1);a.Fa.setVisible(!1);a.va.setVisible(!1);b.rb()||b.render();b.setVisible(!0)}function Nle(a){(Kj(),Jh).Na(1==a.D.C||Kle(a.D));Jh.$b(a.F.C)}p.Ha=function(){(Kj(),Jh).unsubscribe("action",this.bFa,this);this.C&&(bv(this.ea,this.C),A(this.C));this.H&&(bv(this.ea,this.H),A(this.H));Lle.oa.Ha.call(this);bu(this.L,this.O);bu(this.L,this.ma);bu(this.L,this.V);bu(this.L,this.J);wb(this.O,this.ma,this.V,this.J)};function Xle(a){this.D=a}Xle.prototype.C=function(a){var b=new y1c;z1c(b,a.serialize());this.D.log(b);this.D.H()};function Yle(a){this.D=a}Yle.prototype.C=function(a){var b=new y1c;z1c(b,a.serialize());this.D.log(b);return new Oe(function(a,b){this.D.flush(a,b)}.bind(this))};function Zle(a){this.D=a}Zle.prototype.C=function(a,b,c){zle(this.D).then(u(function(d){d?(new pBc(d.z7,"offline",null)).C(a,b,c):b()},this))};function $le(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(zt({id:"docs-offline-optinpromo-confirm-close",content:Ms("Close")},c||b));return P(a+"</div></div>")};function ame(a){E.call(this);this.bb=a||Cd();this.La=new Jk(this);this.xa(this.La);this.C=new Vs(a);this.C.cA(!1);Dn(this.C.D,!1);this.C.Dd("docs-offline-optinpromo");this.C.render();a=this.C.Oa();ee(a,!0);qk(a,"dialog");vk(a,"labelledby","docs-offline-optinpromo-title");vk(a,"describedby","docs-offline-optinpromo-description");this.xa(this.C);this.L=new At(null);this.xa(this.L);this.J=new At(null);this.xa(this.J);this.H=new At(null);this.xa(this.H);this.O=this.F=this.D=null;bme(this,cme)}w(ame,E);
function cme(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(zt({id:"docs-offline-optinpromo-optin",content:Ms("Turn on offline access"),style:2},b));a+=O(zt({id:"docs-offline-optinpromo-decline",content:Ms("No thanks"),style:0},b));return P(a+"</div>")}
function bme(a,b){var c=N(b);a.C.setContent(c);switch(b){case cme:a.La.R(a.C,"show",a.Mub);b=a.bb.getElement("docs-offline-optinpromo-optin");a.L.Va(b);a.La.Kc(a.L,"action",u(a.utb,a));b=a.bb.getElement("docs-offline-optinpromo-decline");a.J.Va(b);a.La.Kc(a.J,"action",u(a.Dkb,a));a.D=a.bb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.bb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.bb.getElement("docs-offline-optinpromo-learn-more-container");a.La.R(a.D,"click",u(a.cOa,
a,!0)).R(a.F,"click",u(a.cOa,a,!1));break;case $le:b=a.bb.getElement("docs-offline-optinpromo-confirm-close");a.H.Va(b);a.La.Kc(a.H,"action",u(a.show,a,!1));a.C.Oa().focus();break;default:throw Error("Cannot handle state "+b);}a.bb.getElement("docs-offline-optinpromo-title");a.bb.getElement("docs-offline-optinpromo-description")}p=ame.prototype;p.cOa=function(a){K(this.D,!a);K(this.F,a);K(this.O,a);(a?this.F:this.D).focus();return!1};p.utb=function(){this.dispatchEvent(new D("Bg"))};p.Dkb=function(){this.dispatchEvent(new D("Cg"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("Dg"))};p.Mub=function(){this.C.Oa().focus();this.dispatchEvent(new D("Ag"))};function dme(a,b){this.L=a;this.H=b}function eme(a){return fme(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new p5;G(a,1,1);return a},a.J.bind(a))}dme.prototype.J=function(a){if(a instanceof p5)return a;if(a instanceof Error)throw a;throw Error(a);};
function fme(a){var b=new p5;return a.L.get().then(function(a){var c=a.C;switch(c){case 3:case 2:return Qe();case 4:return G(b,1,3),G(b,2,a.D),Re(b);case 1:return G(b,1,2),Re(b);case 5:return G(b,1,4),Re(b);default:throw Error("Unexpected enabled state: "+c);}})}dme.prototype.D=function(){return(new Oe(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return Qe();a=new p5;G(a,1,5);return Re(a)})};dme.prototype.C=function(){if($q())return Qe();var a=new p5;G(a,1,6);return Re(a)};
dme.prototype.F=function(){var a=ch(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Oe(function(b,c){Ycb(function(d,e){e>a?b():(d=new p5,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function gme(a,b,c){this.C=a;this.D=c||null};function hme(a,b){this.C=a;this.Wa=b}hme.prototype.get=function(){return zle(this.C).then(function(a){return a?new gme(1,a.vM.getId(),a.vM.fF(),ime(this)):xle(this.C).then(function(a){return(new Oe(function(b,d){wIa(a.wP(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new gme(4,a.getId(),a.fF());else throw Error("More than one user in store: "+a.length);else a=qle()?new gme(2):ALa()?new gme(5):new gme(3);return a}.bind(this))}.bind(this))}.bind(this))};
function ime(a){a=new Gdb(a.Wa);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new sx("metadata-sync",0,!0,new rx(1,wo(),ux("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new sx("service-worker-update",0,!0,new rx(2,aza(),ux("service_worker_update"),3E5,!0,!1)),a$a());I(b,"docs-offline-edswut")&&d.push(new sx("drive-service-worker",0,!0,new rx(2,bza(dh(H(),"drdn"),"/drive/serviceworker/update",!0),ux("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new sx("homescreen-cello-sync",ch(H(),"docs-offline-scstpim"),!0,new rx(2,bza(Qn(la.location.href),"/document/backgroundsync"),new tx,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new sx("drive-cello-sync",ch(H(),"docs-offline-scstpim"),!0,new rx(2,bza(dh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new tx,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new sx("local-changes-sync",0,!1,new rx(1,wo(),ux("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new sx("auto-sync",ch(H(),"docs-offline-sastpim"),!1,new rx(1,wo(),ux("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new sx("webfonts-sync",0,!0,new rx(1,wo(),ux("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new sx("impression-sync",0,!1,new rx(1,wo(),ux("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new sx("document-deletion",0,!1,new rx(1,wo(),ux("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new sx("update-unsaved-changes",
0,!1,new rx(2,aza(),ux("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new sx("cleanup-task",0,!1,new rx(2,aza(),ux("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new sx("report-task",0,!1,new rx(2,aza(),ux("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new sx("kix-snapshot",0,!1,new rx(1,bza(Qn(la.location.href),"/document/snapshot.js"),new tx,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new sx("sync-objects-sync",0,!0,new rx(1,wo(),ux("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=ndb(a,b[d].getId()),!c||!of(c,5,!1))return!1;return!0};function jme(a){this.C=a}function kme(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Ea()});a.C.setItem("optInLog",vo(c))}function lme(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new jme(a)};function mme(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function nme(a){return xle(a.H).then(function(a){return ome(this,a).then(function(){var b=RNa();if(!b)throw Error("Missing user info for enabling offline in flags.");return pme(this,a,b)}.bind(this))}.bind(a)).then(function(a){return qme(this,a)}.bind(a))}function ome(a,b){return(new Oe(function(a,d){wIa(b.wP(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function pme(a,b,c){var d=new xFa(F(c,1),!0);yFa(d,c.fF());zFa(d,F(c,3));AFa(d,!!F(c,4));BFa(d,!!F(c,6));Pp(d,"optInReasons",a.C);return(new Oe(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function qme(a,b){kme(lme(),b.fF()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new qr;var c=new WKa;nga(b,sr,c);lLa(a.F,b);b=new kr;var d=new SNa(b);return XJa(b).then(function(){return new Oe(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=TNa(),c=new Iwa;this.C[0]&&G(c,1,rIa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.Jz(81E3,0);b=Ex(a);xf(b,34,c);this.D.Kz(a)}.bind(a))};function rme(a,b,c,d,e,f,h){y.call(this);this.bb=h||Cd();this.D=a;this.Wa=b;this.H=c;this.eb=d;a=new ZNa;this.xa(a);this.F=new tr(a,Er());this.xa(this.F);this.Ka=new Fr(this.F,Er(),this);this.xa(this.Ka);this.Da=new Fr(this.F,null,this);this.xa(this.Da);this.L=new vle(this.Wa,this.F,e,"OfflinePromoControllerLockSessionId");this.xa(this.L);e=new hme(this.L,this.Wa);a=new kr;this.$a=new dme(e,new SNa(a));e=this.L;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=dh(b,"gaia_session_id");
a=new M1c(306,b||null,a,!(Aa(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new Yle(a);e=B.product.Ue&&zMa&&(XNa()||YNa())?new Zle(e):new oBc;e=new mBc(b,null,e);a=new Xle(a);b=YMa();e=zab(yab(mle(wab(vab(new uab,e),a)),b),84).build();a=sab(e.kC());b=(new lBc(!1)).get();a.H=b;this.Pa=e;this.Pa.sG();this.Qa=Jr(this.bb);this.C=null;this.La=new Jk(this);this.xa(this.La);this.V=new tp;this.xa(this.V);this.ea=new bm(this.gob,6E4,this);this.xa(this.ea);this.Sa=!1;this.ma=this.J=null;
this.Fa=Qq.getInstance();this.O=this.Ta=!1;this.va=B.product.Ue&&B.product.Fg("56.0.2924.87");this.Ma=!1;this.Xa=f}w(rme,y);p=rme.prototype;p.init=function(){var a=this;$q()&&(sme(this),tme(this),q5(this).then(function(){ume(a)},function(b){a.Wa.Oc(ye(b))}))};function ume(a){a.F.connect();up(a.V,a.D.PJ(),function(){a.ea.start();q5(a)});up(a.V,a.D.QJ(),function(){a.ea.stop();sme(a);tme(a);q5(a)});a.La.R(a.Qa,"change",a.I4a);a.Ka.R(sr,a.H4a);a.Da.R(sr,a.G4a).R($Ka,a.Cgb)}
function q5(a){return eme(a.$a).then(function(b){var c=1==b.nq(),d=a.D.Eh(),e;if(!(e=a.O)&&(e=!qle())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.va&&e)&&!(c=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Ta||(h?a.C||(a.C=new ame(a.bb),a.xa(a.C),a.La.R(a.C,"Bg",a.vtb).R(a.C,"Cg",a.rtb).R(a.C,"Dg",a.L2a),a.C.show(!0),vme(a)):a.C&&a.C.show(!1));if(a.eb)if(2==b.nq()||d||h)wme(a);else if(a.ma&&!Bf(b,
a.ma)&&wme(a),null==a.J){d=xme(b);if(!a.Ma)switch(b.nq()){case 1:break;case 3:yme(a,"Offline ineligible, other user enabled");break;case 7:yme(a,"Offline ineligible, insufficient disk space");break;case 5:yme(a,"Offline ineligible, policy disallows");break;case 6:yme(a,"Offline ineligible, no extension");break;case 4:yme(a,"Offline ineligible, invalid db state");break;default:yme(a,"Offline ineligible, unknown reason")}b=1==b.nq()&&a.va?Xq(d,"Turn on...",a.jvb.bind(a),"info",!1):Wq(d,"info",!1);a.J=
a.Fa.postMessage(b)}})}p.gob=function(){zLa()||rle(!0)};
p.wtb=function(){if(this.D.Eh()){var a=dh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(Ss("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=kSa("Your documents are syncing",zs(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.bb);J(b.qq(),"docs-offline-welcomepromo-bg");this.xa(b);this.C&&this.C.show(!1)}else this.Ta=!0,bme(this.C,$le);q5(this)};p.H4a=function(){q5(this)};p.G4a=function(){q5(this)};p.Cgb=function(){this.O=!1;q5(this)};p.ttb=function(a){this.Wa.Oc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=$t(this.Xa,"Turning on offline access failed. Please try again later.",this.bb);a.D=!0;a.render();a.setVisible(!0);this.xa(a)};
p.vtb=function(){this.H.C(2054);rle(!1);nme(new mme(this.L,this.F,this.Pa)).then(u(this.wtb,this),u(this.ttb,this))};p.rtb=function(){this.D.Eh()?this.H.C(2055):tle(!0);rle(!1);la.localStorage.setItem("docs-urop","true");this.O=!1;q5(this);var a=new qr,b=new ZKa;nga(a,$Ka,b);lLa(this.F,a)};
function xme(a){switch(a.nq()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(F(a,2)+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function yme(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";Vo(a.Wa,Error("Offline editing disabled: "+b),c);a.Ma=!0}function wme(a){null!=a.J&&(Vq(a.Fa,a.J),a.J=null,a.ma=null)}p.jvb=function(){this.O=!0;q5(this)};p.I4a=function(){vme(this)};p.L2a=function(){A(this.C);this.C=null};function vme(a){!a.Sa&&a.C&&"hidden"!=a.Qa.getState()&&(a.D.Eh()?a.H.C(2847):sle(!0),a.Sa=!0)}
function sme(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Eh()&&(sle(!1),a.H.C(2847))}function tme(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Eh()&&(tle(!1),a.H.C(2055))};function zme(a,b,c){y.call(this);this.C=a;this.Ta=c;this.J=new tp;this.xa(this.J);this.Fa=new Fr(b,Er(),this);this.xa(this.Fa);this.La=new Jk(this);this.xa(this.La);this.D=Jr();this.xa(this.D);this.L=!1;this.Da=I(H(),"docs-offline-eraoi");this.Pa=I(H(),"docs-offline-eeooip");this.va=I(H(),"docs-offline-eiid");this.Qa=new kr;this.ea=null;this.ma=this.O=this.V=!1;this.H=new bm(this.Ma,Math.floor(27E4*Math.random())+3E4,this);this.xa(this.H);this.F=[]}r(zme,y);
zme.prototype.init=function(){var a=this;(this.Da||this.Pa)&&this.Fa.R(sr,this.Sa);this.va&&(Ame(this).then(function(b){a.ea=b}),this.La.R(this.D,"change",this.Ka));this.F.push(new Bme("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss"));this.F.push(new Bme("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss"))};
function Cme(a){a.ma||(up(a.J,a.C.PJ(),function(){return Dme(a)}),up(a.J,a.C.QJ(),function(){return Dme(a)}),a.va||a.La.R(a.D,"change",a.Ka),a.ma=!0)}zme.prototype.Sa=function(){this.L||(this.L=!0,Cme(this),this.Da&&("visible"==this.D.getState()||this.H.yb()||this.H.start()),Dme(this))};
function Dme(a){var b=!1;a.F.forEach(function(c){var d;if(d=!b){d=!1;switch(c.L){case "reload-after-opt-in":d=a.L&&a.C.Eh();break;case "reload-after-extension-installation":d=a.V&&a.C.Eh()}d=d&&!c.F}d?(Eme(c),b=!0):null!=c.C&&(Vq(c.H,c.C),c.C=null)})}zme.prototype.Ma=function(){this.O||!this.C.Eh()||so(this.Ta.pP(),256)||la.location.reload()};
zme.prototype.Ka=function(){var a=this,b="visible"==this.D.getState();this.O||(this.O=b&&this.F.some(function(a){return null!=a.C}));b&&0==this.ea&&!this.V&&Ame(this).then(function(b){b&&(a.V=!0,Cme(a),Dme(a))})};function Ame(a){return aKa(a.Qa).then(function(){return $q()})}
function Bme(a,b,c){y.call(this);var d=this;this.L=a;this.J=b;this.F=!1;this.C=null;this.H=Qq.getInstance();this.D=new ve(c);this.xa(this.D);this.D.setProperty("label","Dismiss");this.D.Na(!0);this.D.xb(Oa,function(){d.F=!0})}r(Bme,y);function Eme(a){null==a.C&&(a.C=a.H.postMessage(Xq(a.J,"Reload",function(){la.location.reload()},"info",!0,void 0,a.D)))};function Fme(a,b,c,d,e,f,h){y.call(this);this.D=b;this.J=Te();Gme(this);this.F=this.H=null;this.O=a;this.C=c;this.La=new Jk(this);this.xa(this.La);this.L=new tp;this.xa(this.L);this.V=d;this.ea=e;this.va=f;this.ma=h}w(Fme,y);p=Fme.prototype;p.start=function(){var a=this;Hme(this.D).then(function(b){b.connect();a.J.resolve(b);return Ime(a)}).then(function(){up(a.L,a.O.QJ(),function(){Jme(a)})},function(b){b=ye(b);a.C.F.resolve(b)})};
function Ule(a){if(2!=a.C.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.C);Jle(a.C,4);return Kme(a.D,10).then(function(a){var b=a.nq();return Qe().then(function(){return 1==b||2==b?r5(this,1):r5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.oB=function(){return this.D.oB()};
function Ime(a){return a.D.H().then(function(b){switch(F(b,1)){case 1:return Lme(a.D).then(function(){return r5(this,1)}.bind(a)).then(function(){Jme(this)}.bind(a));case 2:return r5(a,2);case 4:return Mme(a,F(b,2));case 3:return b=F(b,3),null!=b?Nme(a,b):r5(a,2);case 5:return Ome(a)}})}p.kAb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Ve(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("zg")}.bind(this)),ba().bind(this))};function Mme(a){return r5(a,2)}
function Nme(a,b){return a.ea?Kme(a.D,b).then(function(a){switch(a.nq()){case 1:return r5(this,1);case 2:return r5(this,1);default:return r5(this,2)}}.bind(a)):Qe()}function Ome(a){return a.va?Kme(a.D,2).then(function(a){switch(a.nq()){case 1:case 2:return r5(this,1);default:return r5(this,2)}}.bind(a)):Qe()}
function Gme(a){a.J.C.then(function(a){this.H=new Fr(a,"user_"+this.V,this);this.xa(this.H);this.F=new Fr(a,null,this);this.xa(this.F);this.H.R(sr,this.K4a).R(YKa,this.Msb).R(bLa,this.kAb);this.F.R(sr,this.J4a).R(YKa,this.Bgb)}.bind(a))}p.K4a=function(){Ve(r5(this,1),ba().bind(this))};p.Msb=function(){Ve(r5(this,2),ba().bind(this))};p.J4a=function(){Pme(this)};p.Bgb=function(){Pme(this)};
function r5(a,b){return a.oB().then(function(a){Jle(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("zg")}.bind(this))}.bind(a)).then(ba().bind(a))}function Pme(a){a.oB().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("zg")}.bind(a))}function Jme(a){a.ma&&1==a.C.C&&Ve(Qme(a.D),ba().bind(a))};function Rme(a){this.D=a}Rme.prototype.C=g("D");function s5(a){lf(this,a,0,-1,null,null)}w(s5,kf);s5.prototype.getType=function(){return F(this,1)};s5.prototype.setType=function(a){G(this,1,a)};function Sme(a){lf(this,a,0,-1,null,null)}w(Sme,kf);Sme.prototype.getType=function(){return F(this,1)};Sme.prototype.setType=function(a){G(this,1,a)};Sme.prototype.JJ=function(){return vf(this,Tme,2)};function Tme(a){lf(this,a,0,-1,null,null)}w(Tme,kf);Tme.prototype.getType=function(){return F(this,1)};Tme.prototype.setType=function(a){G(this,1,a)};
Tme.prototype.getErrorMessage=function(){return F(this,2)};function Ume(a){lf(this,a,0,-1,Vme,null)}w(Ume,kf);var Vme=[1];function Wme(a){lf(this,a,0,-1,Xme,null)}w(Wme,kf);var Xme=[1];function Yme(a){lf(this,a,0,-1,null,null)}w(Yme,kf);Yme.prototype.H=function(){return vf(this,nle,1)};function Zme(a){lf(this,a,0,-1,null,null)}w(Zme,kf);Zme.prototype.oB=function(){return vf(this,p5,1)};function $me(a){lf(this,a,0,-1,null,null)}w($me,kf);function ane(a){lf(this,a,0,-1,null,null)}w(ane,kf);
ane.prototype.oB=function(){return vf(this,p5,1)};function bne(a){lf(this,a,0,-1,null,null)}w(bne,kf);bne.prototype.getId=function(){return F(this,1)};bne.prototype.cf=function(a){G(this,1,a)};bne.prototype.getTitle=function(){return F(this,2)};bne.prototype.lq=function(){return F(this,3)};function cne(a){lf(this,a,0,-1,dne,null)}w(cne,kf);var dne=[1];function ene(a){lf(this,a,0,-1,null,null)}w(ene,kf);function fne(a,b,c,d){y.call(this);this.F=Te();this.bb=d||Cd();this.La=new Jk(this);this.xa(this.La);this.J=a;a=new co(b);a.mc("ouid",this.J);cza()&&a.mc("Debug","true");jo(a,"cd="+c);if(Hb(a.C))throw Error("Url contains invalid domain: "+b);this.L=go(fo(eo(new co,a.H),a.C),a.J).toString();this.C=this.bb.Ca("IFRAME",{style:"display:none"});ada(this.C,ir(a.toString()));this.La.R(ne(this.bb),"message",this.O);this.bb.wb().body.appendChild(this.C);this.D=!1}w(fne,y);
function Hme(a){var b=new s5;b.setType(1);return t5(a,b).then(function(a){a=new tr(new Rme(a.port),"user_"+this.J);this.xa(a);return a}.bind(a))}function Gle(a,b){var c=new s5;c.setType(2);var d=new Ume;G(d,1,b||[]);xf(c,2,d);return t5(a,c).then(function(a){return wf(vf(a.response,Wme,3),bne,1)}.bind(a))}fne.prototype.H=function(){var a=new s5;a.setType(4);return t5(this,a).then(function(a){return vf(a.response,Yme,4).H()}.bind(this))};
fne.prototype.oB=function(){var a=new s5;a.setType(10);return t5(this,a).then(function(a){return vf(a.response,Zme,7).oB()}.bind(this))};function Vle(a,b,c,d){d=void 0===d?!1:d;var e=new s5;e.setType(5);var f=new cne;yf(f,1,b);G(f,2,c);G(f,3,d);xf(e,3,f);return t5(a,e).then(function(a){return(a=vf(a.response,ene,8))&&vf(a,ple,1)||null})}function Kme(a,b){var c=new s5;c.setType(6);var d=new $me;G(d,1,b);xf(c,4,d);return t5(a,c).then(function(a){return vf(a.response,ane,5).oB()})}
function Lme(a){var b=new s5;b.setType(9);return t5(a,b).then(ba())}function Qme(a){var b=new s5;b.setType(11);return t5(a,b).then(ba())}
function t5(a,b){return a.F.C.then(function(a){var c=Ea(),e=new MessageChannel;a.postMessage(b.Vf(),[e.port2]);var f=Te();e.port1.onmessage=u(function(a){a=new gne(a);a.response&&a.response.JJ()?(a=a.response.JJ(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=Ul(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Ea()-c)+"ms."))},ma(void 0)?void 0:3E4);Ue(f.C,function(){e.port1.close();
$l(h)});return f.C}.bind(a))}fne.prototype.O=function(a){(a=a.ke())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],vb(this,a.close,a),this.F.resolve(a),this.D=!0),A(this.La))};fne.prototype.Ha=function(){this.bb.Af(this.C);fne.oa.Ha.call(this)};function gne(a){this.response=a.data?new Sme(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function hne(a,b,c,d,e,f,h,k,l,m){var q=this;y.call(this);var t=H();this.F=dh(t,"docs-offline-lsuid");this.J=new ZNa;this.C=new tr(this.J,Er());this.xa(this.C);this.C.connect();this.H=h;this.Wa=b;var v=I(t,"docs-offline-eeooip");if(v||I(t,"docs-offline-eraoi")||I(t,"docs-offline-eiid")){var z=new zme(a,this.C,e.C);this.xa(z);z.init()}v&&(b=new rme(a,b,c,d,h,l,m),this.xa(b),b.init());this.D=new Hle;this.xa(this.D);var C=I(t,"docs-offline-eiedp")&&(!I(t,"docs-isd")||I(t,"docs-offline-esdp")),L=I(t,
"docs-offline-eiecr");ine(this,C,L).then(function(b){if(b){b=$ya("/iframeapi",void 0);b=new fne(q.F,b,1);q.xa(b);var c=new Fme(a,b,q.D,q.F,!1,L,!1);q.xa(c);c.start();if(C){var d=new Cle(e.F,b,q.C,q.Wa);q.xa(d);d.start();b=new Lle(e,f,b,d,q.D,k,c,q.Wa,l,a);q.xa(b);b.init()}}})}w(hne,y);function ine(a,b,c){return b?Qe(!0):c?(b=new vle(a.Wa,a.C,a.H,"EditorOfflineControllerLockSessionId"),a.xa(b),(new hme(b,a.Wa)).get().then(function(a){return 5==a.C})):Qe(!1)};function jne(){y.call(this)}w(jne,fE);jne.prototype.C=function(a,b,c,d,e,f,h,k,l){return new hne(a,b,c,!0,d,e,f,h,k,l)};lE("offline",jne);
